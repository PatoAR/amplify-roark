PROMPT:

Think deeply and analyze the situation in detail, speed of answer is not critical. It is very imprortant that the proposed solution follows this criteria:Â 

1. Does not break existing functionality
2. Is robust yet concise and simple
3. Is secure
4. Follows AWS and Amplify Gen 2 best practices
5. Consistent with existing codebase patterns, style and naming conventions
6. Maintains consistency with our error handling approach
7. Checks for Typescript and AWS build errors.

Please explain your approach before showing code.